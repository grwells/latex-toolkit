# Author: Garrett Wells
# Date: 08/10/23
#
# Some simple automations for working with my LaTeX writing.
#
# replace this with the name of your latex file
# 	example: <filename>.tex -> jobname = <filename>
jobname = abstract

# open file in nvim and automatically toggle TrueZen Ataraxis to ON
# 	so that lines are narrower to reduce eye fatigue
open:
	nvim -c TZAtaraxis $(jobname).tex

# build pdf and then view the output file in the system's default
# 	pdf document viewer (Evince on Pop!_OS) which can be rather tricky to 
# 	find
view: pdf
	xdg-open $(jobname).pdf

# get a word count, counts for sections and subsections will be 
# 	added at bottom of output
#
# to specify a section of the latex file to count, such as abstract,
# 	which isn't counted by default add the following:
#
# 		%TC:break {name}
#
wc:
	texcount $(jobname).tex

# generate an updated pdf
pdf:
	pdflatex $(jobname).tex

# print file generated by pdflatex to the default system printer
pdf-print:
	pdflatex $(jobname).tex && lpr $(jobname).pdf

# remove superfluous files from pdf generation
clean:
	rm $(jobname).aux $(jobname).log
